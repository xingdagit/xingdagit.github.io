{"tags":[{"name":"underscore","permalink":"http://yoursite.com/tags/underscore/","url":"\\async\\tags\\underscore.json","count":2}],"categories":[],"url":"\\async\\posts\\2017\\06\\05\\JS-underscore.json","date":1496668142000,"path":{"year":2017,"month":6,"day":5,"name":"JS-underscore"},"title":"JS-underscore","permalink":"http://yoursite.com/2017/06/05/JS-underscore/","content":"<h3 id=\"underscore简介\"><a href=\"#underscore简介\" class=\"headerlink\" title=\"underscore简介\"></a>underscore简介</h3><ul>\n<li><p>JavaScript是函数式编程语言，支持高阶函数和闭包。函数式编程非常强大，可以写出非常简洁的代码。</p>\n<ul>\n<li><p>例如Array的map()和filter()方法：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&apos;use strict&apos;;</div><div class=\"line\">var a1 = [1, 4, 9, 16];</div><div class=\"line\">var a2 = a1.map(Math.sqrt); // [1, 2, 3, 4]</div><div class=\"line\">var a3 = a2.filter((x) =&gt; &#123; return x % 2 === 0; &#125;); // [2, 4]</div></pre></td></tr></table></figure>\n</li>\n<li><p>Array有map()和filter()方法，但<code>Object</code>没有这些方法。此外，低版本的浏览器例如<code>IE6～8</code>也没有这些方法</p>\n</li>\n<li>解决方法：<br>1)方法一，自己把这些方法添加到<code>Array.prototype</code>中，然后给<code>Object.prototype</code>也加上<code>mapObject()</code>等类似的方法。<br>2)方法二，直接找一个成熟可靠的第三方开源库，使用统一的函数来实现<code>map()</code>、<code>filter()</code>这些操作。</li>\n</ul>\n</li>\n<li><p><code>underscore</code>就是上面方法二所采用的第三方库（比较常用）</p>\n<ul>\n<li>正如jQuery统一了不同浏览器之间的DOM操作的差异，让我们可以简单地对DOM进行操作一样，<code>underscore</code>则提供了一套完善的函数式编程的接口，让我们更方便地在JavaScript中实现<code>函数式编程</code>。</li>\n<li>jQuery在加载时，会把自身绑定到唯一的全局变量<code>$</code>上。<code>underscore</code>与其类似，会把自身绑定到唯一的全局变量<code>_</code>上，这也是为啥它的名字叫underscore的原因。</li>\n<li>用underscore实现<code>map()</code>操作：<code>_.map([1, 2, 3], (x) =&gt; x * x);</code> // [1, 4, 9]</li>\n<li>对Array操作时确实比直接用Array.map()要麻烦一点，但<code>underscore</code>的<code>map()</code>还可以作用于<code>Object</code>：<br><code>_.map({ a: 1, b: 2, c: 3 }, (v, k) =&gt; k + &#39;=&#39; + v);</code>// [‘a=1’, ‘b=2’, ‘c=3’]</li>\n</ul>\n</li>\n<li><p><code>underscore</code>对很多对象提供了接口，如Collections、Arrays、Functions、Objects、Chaining</p>\n</li>\n<li><a href=\"http://underscorejs.org/\" target=\"_blank\" rel=\"external\">underscore文档</a></li>\n</ul>\n"}